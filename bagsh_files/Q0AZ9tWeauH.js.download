if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("LSFetchCommunityJoinInfo",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("community_id",a[0]),d[0].set("thread_id",a[1]),d[1]=d[0].get("community_id"),d[0],d[2]=d[0].get("thread_id"),d[0],d[3]="_",d[4]=c.toJSON(d[0]),c.sp(b("LSIssueNewTaskWithExtraOperations"),["community_join_info_from_search",d[3],c.i64.to_string(d[1]),d[3],c.i64.to_string(d[2])].join(""),[0,514],d[4],f,f,[0,0],[0,0],f,f,[0,0],f)},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSUpdateUserSettingsForCommunities",["LSArrayGetObjectAt","LSGetViewerFBID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(e){return d[0]=c.i64.of_int32(a[0].length),c.i64.gt(d[0],[0,0])?c.loopAsync(d[0],function(e){return d[5]=e,c.seq([function(e){return c.ntop("Array",b("LSArrayGetObjectAt"),a[0],d[5]).then(function(a){return a=a,d[6]=a[0],d[7]=a[1],a})},function(a){return d[8]=d[6].get("community_id"),d[6],d[9]=d[6].get("is_hidden"),d[6],c.fe(c.db.table(162).fetch([[[d[8]]]]),function(a){var b=a.update;a.item;return b({isHidden:d[9]})})}])}):c.resolve()},function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[1]=a[0],a})},function(e){return d[2]=new c.Map(),d[2].set("actor_id",d[1]),d[2].set("updates",a[0]),d[3]=d[2].get("actor_id"),d[2],d[4]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),["update_user_settings_for_communities","_",c.i64.to_string(d[3])].join(""),[0,465],d[4],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSCommunityInviteStatus.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];f.inCommunity=a;f.invited=c;f.requestPending=d;f.unrequested=e}),null);
__d("LSCommunityInviteStatus.re",["LSCommunityInviteStatus.bs"],(function(a,b,c,d,e,f){c=(a=b("LSCommunityInviteStatus.bs")).inCommunity;f.inCommunity=c;d=a.invited;f.invited=d;e=a.requestPending;f.requestPending=e;b=a.unrequested;f.unrequested=b}),null);
__d("useFetchCommunityJoinInfo",["I64","LS.re","LSCommunityInviteStatus.re","LSFetchCommunityJoinInfo","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a){var b,e=c("useReStore")(),f=a.invitedThreadId,g=d("I64").equal(a.inviteStatus,c("LSCommunityInviteStatus.re").invited);h(function(){g&&f!=null&&c("promiseDone")(e.runInTransaction(function(b){return c("LSFetchCommunityJoinInfo")(a.folderId,f,d("LS.re").make(b))},"readwrite"))},[e,g,d("I64").to_string(a.folderId),d("I64").to_string((b=f)!=null?b:d("I64").zero)])}g.useFetchCommunityJoinInfo=a}),98);
__d("UseFetchCommunityJoinInfo.bs",["useFetchCommunityJoinInfo"],(function(a,b,c,d,e,f){"use strict";function a(a){b("useFetchCommunityJoinInfo").useFetchCommunityJoinInfo(a)}f.useHook=a}),null);
__d("MWCMDirectInviteJoinDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("MWCMDirectInviteJoinDialog.react").__setRef("MWCMDirectInviteJoinDialog.entrypoint")};g["default"]=a}),98);
__d("MDSBellCrossSvgIcon.bs",["MDSSvgIcon.bs","bs_caml_option","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.color,d=a.size;a=a.dataTestId;c={children:[h.jsx("path",{d:"M9.244 24.99h-.001L26.867 7.366a1.25 1.25 0 111.768 1.768l-3.296 3.295a2 2 0 00-.554 1.766l1.05 5.877a3 3 0 00.831 1.594l.92.92a1.414 1.414 0 01-1 2.414H13.597a2 2 0 00-1.414.586l-3.05 3.049a1.25 1.25 0 11-1.767-1.768l1.878-1.877z"}),h.jsx("path",{d:"M15.041 27.498c-.045-.273.183-.498.459-.498h5c.276 0 .504.226.459.498a3 3 0 01-5.918 0zm6.481-19.474a6.57 6.57 0 00-9.99 4.39L10.537 18l-.056.27c-.152.729.738 1.209 1.264.682l9.862-9.86c.312-.314.29-.83-.084-1.068z"})],color:c,size:d};a!==void 0&&(c.dataTestId=b("bs_caml_option").valFromOption(a));return h.jsx(b("MDSSvgIcon.bs").make,babelHelpers["extends"]({},c))}a.displayName=a.name+" [from "+e.id+"]";c=a;f.make=c}),null);
__d("MWCMInboxLeftRailSidebarFolder.bs",["CometBadge.react","CometColumn.react","CometColumnItem.react","LSCommunityInviteStatus.bs","LSMediaUrl.bs","MDSBellCrossSvgIcon.bs","MDSListCell.react","MDSRow.react","MDSRowItem.react","MWBadgeContainer.bs","MWCMDirectInviteJoinDialog.entrypoint","MWCMInboxLeftRailSidebarContext.react","MWCMUseUnreadThreadCount.bs","MWInboxCommunityThreadsRouteBuilder.bs","MWPBumpEntityKey.bs","MWProfilePhoto.react","MWText.react","MWTooltip.react","ReQLSubscription.bs","UseFetchCommunityJoinInfo.bs","bs_belt_Option","bs_caml","bs_caml_format","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","gkx","qex","react","stylex","useCometEntryPointDialog"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={badgeCollapsed:{position:"x10l6tqk",right:"xgzdjil",top:"xtu2xtp"},badgeRowItem:{marginStart:"x12mruv9",paddingEnd:"xsyo7zv",paddingStart:"x16hj40l"},content:{alignItems:"x6s0dn4",display:"x78zum5",height:"xc9qbxq",minHeight:"xu0aao5",paddingTop:"xexx8yu",paddingBottom:"x18d9i69"},contentSpaced:{alignItems:"x6s0dn4",display:"x78zum5",height:"xn3w4p2",paddingTop:"x1nn3v0j",paddingBottom:"x1120s5i"},fontWeightDIv3:{fontWeight:"xk50ysn"},listCell:{marginTop:"x1kgmq87",marginEnd:"xwrv7xz",marginBottom:"xmgb6t1",marginStart:"x8182xy",paddingEnd:"x150jy0e",paddingStart:"x1e558r4",paddingTop:"xexx8yu",paddingBottom:"x18d9i69"},listCellSpaced:{paddingTop:"xexx8yu",paddingBottom:"x18d9i69"},muteRowItem:{marginEnd:"xwrv7xz"},snippetText:{paddingTop:"x1y1aw1k"}};function a(a){var c=a.folder,d=a.maybeThread,e=a.currentThreadKey,f=a.entityType;a=a.entityId;var g=b("qex")._("908")===!0,k=b("MWCMInboxLeftRailSidebarContext.react").useHook(),l=b("ReQLSubscription.bs").useFirst(b("MWCMUseUnreadThreadCount.bs").useHook(c.folderId));l=l!==void 0;var m=b("bs_caml").i64_neq(c.notificationMutedUntil,b("bs_caml_int64").zero)?!0:!1,n=b("bs_int64").to_string(c.folderId);f=b("bs_caml_obj").caml_equal(f,"community")&&b("bs_caml_obj").caml_equal(c.folderId,b("bs_belt_Option").map(a,b("bs_caml_format").caml_int64_of_string));var o=b("bs_caml").i64_eq(c.inviteStatus,b("LSCommunityInviteStatus.bs").invited);a=b("bs_caml").i64_eq(c.inviteStatus,b("LSCommunityInviteStatus.bs").inCommunity);b("UseFetchCommunityJoinInfo.bs").useHook(c);var p=c.invitedThreadId,q,r=0;p!==void 0&&o?q=b("bs_curry")._1(b("MWInboxCommunityThreadsRouteBuilder.bs").buildURL,{folder_id:n,thread_key:b("bs_int64").to_string(p)}):r=1;r===1&&(q=e!==void 0?g?b("bs_curry")._1(b("MWInboxCommunityThreadsRouteBuilder.bs").buildURLWithoutThread,{folder_id:n}):b("bs_curry")._1(b("MWInboxCommunityThreadsRouteBuilder.bs").buildURL,{folder_id:n,thread_key:b("bs_int64").to_string(e)}):b("bs_curry")._1(b("MWInboxCommunityThreadsRouteBuilder.bs").buildURLWithoutThread,{folder_id:n}));p=b("LSMediaUrl.bs").CommunityFolder.folderPictureUrl(c);r=i.jsx(b("MWProfilePhoto.react"),{shape:"roundedRect",size:function(){switch(b("gkx")("8206")?"s_28":"s_24"){case"s_16":return 16;case"s_24":return 24;case"s_28":return 28;case"s_32":return 32;case"s_36":return 36;case"s_40":return 40;case"s_48":return 48;case"s_56":return 56;case"s_60":return 60;case"s_72":return 72;case"s_80":return 80;case"s_88":return 88;case"s_96":return 96;case"s_100":return 100;case"s_132":return 132;case"s_168":return 168}}(),source:{uri:p!==void 0?p:""}});g=c.snippetText;var s;e=0;o&&g!==void 0?s=i.jsxs(i.Fragment,{children:[i.jsx("br",{}),i.jsx("span",{children:g})]}):e=1;if(e===1)if(d!==void 0){p=d.snippet;s=p!==void 0?i.jsxs(i.Fragment,{children:[i.jsx("br",{}),i.jsx("span",{children:p})]}):null}else s=null;g=i.jsxs(i.Fragment,{children:[i.jsx(b("MWText.react"),{type:"headline4",children:c.name+(m?" (muted)":"")}),s]});e=i.jsx(b("MDSRowItem.react"),{xstyle:[j.muteRowItem],children:i.jsx(b("MDSBellCrossSvgIcon.bs").make,{color:"disabled",size:"16",dataTestId:"commmunity-muted-icon-"+n})});d=i.jsx(b("MDSRowItem.react"),{xstyle:[j.badgeRowItem],children:i.jsx(b("CometBadge.react"),{color:"blue",isProfileBadge:!0,size:8,testid:void 0})});p=l||o;n=b("useCometEntryPointDialog")(b("MWCMDirectInviteJoinDialog.entrypoint"),{});var t=n[0];l=function(a){if(o)return t({folder:c,onClose:function(a){},url:q},function(a){return a});else return b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.sidebar","community_group")};n=a?{url:q}:void 0;a={"aria-current":f?"page":"false","aria-label":c.name,content:p?i.jsx(b("MWBadgeContainer.bs").make,{badge:i.jsx("div",{className:(h||(h=b("stylex")))(j.badgeCollapsed),children:i.jsx(b("CometBadge.react"),{color:"blue",isProfileBadge:!0,border:"white",size:8,testid:void 0})}),badgeAlign:"topRight",expanding:!0,children:r}):r,contentXStyle:b("gkx")("8206")?j.contentSpaced:j.content,expanding:!0,onPress:l,selected:f,size:"medium",xstyle:[j.listCell]};n!==void 0&&(a.linkProps=b("bs_caml_option").valFromOption(n));a=i.jsx(b("MDSListCell.react"),babelHelpers["extends"]({},a));var u=c.snippetText;m={addOnEnd:b("gkx")("8206")&&!p&&!m?null:i.jsxs(b("MDSRow.react"),{paddingHorizontal:0,paddingTop:0,align:"end",verticalAlign:"center",expanding:!0,spacingHorizontal:8,children:[m?e:null,p?d:null]}),addOnStart:r,"aria-current":f?"page":"false","aria-label":c.name,content:i.jsxs(b("CometColumn.react"),{children:[i.jsx(b("CometColumnItem.react"),{children:i.jsx(b("MWText.react"),{color:"primary",type:"body3",numberOfLines:1,children:i.jsx("span",{className:(h||(h=b("stylex")))(b("gkx")("8206")?j.fontWeightDIv3:!1),children:c.name})})}),o&&u!==void 0?i.jsx(b("CometColumnItem.react"),{xstyle:[j.snippetText],children:i.jsx(b("MWText.react"),{align:"start",color:"secondary",type:"meta4",numberOfLines:1,children:u})}):null]}),contentTestId:"mwcm-inbox-folder-name",contentXStyle:b("gkx")("8206")?j.contentSpaced:j.content,expanding:!0,onPress:l,selected:f,size:"medium",xstyle:[b("gkx")("8206")?j.listCellSpaced:j.listCell]};n!==void 0&&(m.linkProps=b("bs_caml_option").valFromOption(n));e=i.jsx(b("MDSListCell.react"),babelHelpers["extends"]({},m));return i.jsx(b("MWTooltip.react"),{tooltip:g,align:"middle",position:"end",children:k.isCollapsed?a:e},b("bs_int64").to_string(c.fbGroupId))}a.displayName=a.name+" [from "+e.id+"]";c=a;f.styles=j;f.make=c}),null);
__d("MWCMUseNavigateNextCommunity.bs",["MWInboxCommunityThreadsRouteBuilder.bs","MWInboxRouteBuilder.bs","ReQL.bs","ReQLSubscription.bs","bs_caml_array","bs_curry","bs_int64","react","useCometRouterDispatcher","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")(),d=b("useCometRouterDispatcher")(),e=b("ReQLSubscription.bs").useArray(h.useMemo(function(){return b("ReQL.bs").filter(b("ReQL.bs").filter(b("ReQL.bs").fromTableAscending(c.table("community_folders")),function(b){return b.folderId!==a}),function(a){a=a.isHidden;if(a!==void 0)return!a;else return!0})},[c])),f=h.useMemo(function(){return e.slice(0).sort(function(a,b){return a.name.localeCompare(b.name)})},[e]);return h.useCallback(function(a){a=f.length;a=a!==0?b("bs_curry")._1(b("MWInboxCommunityThreadsRouteBuilder.bs").buildURLWithoutThread,{folder_id:b("bs_int64").to_string(b("bs_caml_array").get(f,0).folderId)}):b("bs_curry")._1(b("MWInboxRouteBuilder.bs").buildHomeURL,{});if(!(d==null)){d.go(a);return}},[b("bs_int64").to_string(a)])}f.useHook=a}),null);
__d("MWCMInboxLeftRailSidebarFolderEdit.bs",["CometCheckbox.react","CometColumn.react","CometColumnItem.react","LS.bs","LSCommunityInviteStatus.bs","LSDict","LSMediaUrl.bs","LSTransaction.bs","LSUpdateUserSettingsForCommunities","LSVec","MDSListCell.react","MWCMUseNavigateNextCommunity.bs","MWPBumpEntityKey.bs","MWProfilePhoto.react","MWText.react","MWTooltip.react","ReQL.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml","bs_caml_format","bs_caml_obj","bs_curry","bs_int64","gkx","promiseDone","react","stylex","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={checkbox:{marginEnd:"x1emribx",marginTop:"x1rdy4ex"},checkboxSpaced:{marginEnd:"x1emribx",marginTop:"x1kgmq87",marginBottom:"xmgb6t1"},content:{alignItems:"x6s0dn4",display:"x78zum5",height:"xc9qbxq",minHeight:"xu0aao5",paddingTop:"xexx8yu",paddingBottom:"x18d9i69"},contentSpaced:{alignItems:"x6s0dn4",display:"x78zum5",height:"xn3w4p2",paddingTop:"x1nn3v0j",paddingBottom:"x1120s5i"},disabled:{opacity:"xuzhngd"},fontWeightDIv3:{fontWeight:"xk50ysn"},listCell:{marginTop:"x1kgmq87",marginEnd:"xwrv7xz",marginBottom:"xmgb6t1",marginStart:"x8182xy",paddingEnd:"x150jy0e",paddingStart:"x1e558r4",paddingTop:"xexx8yu",paddingBottom:"x18d9i69"},listCellSpaced:{paddingTop:"xexx8yu",paddingBottom:"x18d9i69"},snippetText:{paddingTop:"x1y1aw1k"}};function a(a){var c=a.folder,d=a.entityId,e=b("useReStore")(),f=b("MWCMUseNavigateNextCommunity.bs").useHook(c.folderId),g=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").fromTableAscending(e.table("community_folders"))},[e]));a=i.useMemo(function(){return g.slice(0).sort(function(a,b){return a.name.localeCompare(b.name)})},[g]);var k=i.useCallback(function(a){a=!b("bs_belt_Option").getWithDefault(c.isHidden,!1);b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.sidebar","community_group_edit.community."+(a?"hide":"show"));var g=new(b("LSDict"))().set("community_id",c.folderId).set("is_hidden",a);b("promiseDone")(b("LSTransaction.bs").run(e,function(a){return b("LSUpdateUserSettingsForCommunities")(b("LSVec").make([g]),b("LS.bs").make(a))},"readWrite"));a=b("bs_caml_obj").caml_equal(c.folderId,b("bs_belt_Option").map(d,b("bs_caml_format").caml_int64_of_string))&&a===!0;if(a)return b("bs_curry")._1(f)},[b("bs_int64").to_string(c.folderId),c.isHidden,a]);a=b("bs_caml").i64_neq(c.inviteStatus,b("LSCommunityInviteStatus.bs").inCommunity);var l=b("LSMediaUrl.bs").CommunityFolder.folderPictureUrl(c);l=i.jsxs(i.Fragment,{children:[i.jsx("div",{className:(h||(h=b("stylex")))(b("gkx")("8206")?j.checkboxSpaced:j.checkbox),children:i.jsx(b("CometCheckbox.react"),{checked:!b("bs_belt_Option").getWithDefault(c.isHidden,!1),disabled:a,label:null,name:c.name,onChange:function(a){},value:"checked",iconSize:16,labelIsHidden:!0,tabIndex:-1})}),i.jsx("div",{className:h(a?j.disabled:!1),children:i.jsx(b("MWProfilePhoto.react"),{shape:"roundedRect",size:function(){switch(b("gkx")("8206")?"s_28":"s_24"){case"s_16":return 16;case"s_24":return 24;case"s_28":return 28;case"s_32":return 32;case"s_36":return 36;case"s_40":return 40;case"s_48":return 48;case"s_56":return 56;case"s_60":return 60;case"s_72":return 72;case"s_80":return 80;case"s_88":return 88;case"s_96":return 96;case"s_100":return 100;case"s_132":return 132;case"s_168":return 168}}(),source:{uri:l!==void 0?l:""}})})]});var m=i.jsx(i.Fragment,{children:i.jsx(b("MWText.react"),{type:"headline4",children:c.name})}),n=b("bs_caml").i64_eq(c.inviteStatus,b("LSCommunityInviteStatus.bs").invited),o=c.snippetText;return i.jsx(b("MWTooltip.react"),{tooltip:m,align:"middle",position:"end",children:i.jsx(b("MDSListCell.react"),{addOnStart:l,content:i.jsxs(b("CometColumn.react"),{children:[i.jsx(b("CometColumnItem.react"),{children:i.jsx(b("MWText.react"),{color:a?"disabled":"primary",type:"body3",numberOfLines:1,children:i.jsx("span",{className:h(b("gkx")("8206")?j.fontWeightDIv3:!1),children:c.name})})}),n&&o!==void 0?i.jsx(b("CometColumnItem.react"),{xstyle:[j.snippetText],children:i.jsx(b("MWText.react"),{color:a?"disabled":"primary",type:"meta4",numberOfLines:1,children:o})}):null]}),contentXStyle:b("gkx")("8206")?j.contentSpaced:j.content,contentTestId:"mwcm-inbox-folder-name",disabled:a,xstyle:[b("gkx")("8206")?j.listCellSpaced:j.listCell],size:"medium",onPress:function(a){b("bs_curry")._1(k);return b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.sidebar","community_group")},"aria-label":c.name,expanding:!0})},b("bs_int64").to_string(c.fbGroupId))}a.displayName=a.name+" [from "+e.id+"]";c=a;f.styles=j;f.make=c}),null);
__d("MWCMInboxLeftRailSidebarFolderList.bs",["fbt","CometColumn.react","CometColumnItem.react","CometPlaceholder.react","CometPressable.react","LSCommunityBitOffset.bs","LSCommunityCapabilityBitOffset.bs","LSCommunityInviteStatus.bs","MDSRow.react","MDSRowItem.react","MWCMInboxLeftRailSidebarContext.react","MWCMInboxLeftRailSidebarFolder.bs","MWCMInboxLeftRailSidebarFolderEdit.bs","MWPBumpEntityKey.bs","MWText.react","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_curry","bs_int64","gkx","react","stylex","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={communitiesHeadingDIv3:{marginEnd:"x11i5rnm",marginStart:"x39eecv",paddingEnd:"x4uap5"},fontWeightDIv3:{fontWeight:"xk50ysn"},manageCommunityLink:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",marginRight:"xv8wvd9",marginTop:"x1rdy4ex",opacity:"xg01cxk"},manageCommunityLinkDIv3:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",marginEnd:"x1n0m28w",marginTop:"x1gslohp",opacity:"xg01cxk",paddingTop:"x1yrsyyn",paddingEnd:"xsyo7zv",paddingBottom:"x10b6aqq",paddingStart:"x16hj40l"},manageCommunityLinkVisible:{opacity:"x1hc1fzr"},spacer:{borderTop:"x1tciwvm",marginBottom:"x1chd833",marginTop:"x1aawmmo",width:"xh8yej3"},spacerDIv3:{borderTop:"x1tciwvm",marginBottom:"x1ygx91",marginTop:"xcxhlts",width:"xh8yej3"},wrapper:{width:"xh8yej3"}};function l(a){var c=a.isCollapsed,d=a.isEditing,e=a.setIsEditing;a=a.children;var f=j.useState(function(){return!1}),h=f[1],l=f[0];f=j.useState(function(){return!1});var m=f[1],n=f[0];f=g._("__JHASH__40AMCawUwpr__JHASH__");var o=g._("__JHASH__CEVmG20xvjn__JHASH__"),p=g._("__JHASH__Y7sRQdb0Rya__JHASH__"),q=l||n;q=j.jsx(b("CometPressable.react"),{"aria-label":d?f:o,onFocusChange:function(a){return b("bs_curry")._1(m,function(b){return a})},onPress:function(a){b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.sidebar","community_group_edit."+(d?"start":"end"));return b("bs_curry")._1(e,function(a){return!a})},xstyle:function(a){return[b("gkx")("8206")?k.manageCommunityLinkDIv3:k.manageCommunityLink,l||n||d?k.manageCommunityLinkVisible:!1]},children:j.jsx(b("MWText.react"),{color:"blueLink",type:"meta2",numberOfLines:1,children:q&&!d?o:f})});return j.jsxs("div",{"data-testid":void 0,className:(i||(i=b("stylex")))(k.wrapper),onMouseEnter:function(a){return b("bs_curry")._1(h,function(a){return!0})},onMouseLeave:function(a){return b("bs_curry")._1(h,function(a){return!1})},children:[j.jsx(b("MDSRow.react"),{children:c?j.jsx("div",{className:b("gkx")("8206")?(i||(i=b("stylex")))(k.spacerDIv3):(i||(i=b("stylex")))(k.spacer)}):j.jsxs(j.Fragment,{children:[b("gkx")("8206")?j.jsx(b("MDSRowItem.react"),{xstyle:[k.communitiesHeadingDIv3],children:j.jsx(b("CometColumn.react"),{children:j.jsx(b("CometColumnItem.react"),{paddingHorizontal:0,paddingTop:8,paddingVertical:16,children:j.jsx(b("MWText.react"),{type:"body3",children:j.jsx("span",{className:(i||(i=b("stylex")))(k.fontWeightDIv3),children:p})})})})}):j.jsx(b("MDSRowItem.react"),{children:j.jsx(b("CometColumn.react"),{children:j.jsx(b("CometColumnItem.react"),{paddingTop:0,paddingVertical:16,children:j.jsx(b("MWText.react"),{type:"headlineEmphasized4",children:p})})})}),j.jsx(b("MDSRowItem.react"),{children:q})]})}),a]})}l.displayName=l.name+" [from "+e.id+"]";c={make:l};function m(a){var c=a.currentThreadKey,d=a.entityType,e=a.entityId,f=b("useReStore")();a=b("MWCMInboxLeftRailSidebarContext.react").useHook();a=a.isCollapsed;var h=j.useState(function(){return!1}),i=h[0],k=b("ReQLSubscription.bs").useArray(j.useMemo(function(){return b("ReQL.bs").leftJoin(b("ReQL.bs").fromTableAscending(f.table("community_folders")),b("ReQL.bs").fromTableAscending(f.table("threads")))},[f])),m=j.useMemo(function(){return k.slice(0).filter(function(a){a=a[0];var c=b("LSCommunityBitOffset.bs").has(b("LSCommunityCapabilityBitOffset.bs").directInviteNonMemberChatLevel,a)||b("LSCommunityBitOffset.bs").has(b("LSCommunityCapabilityBitOffset.bs").directInviteNonMemberCommunityLevel,a);if(b("bs_caml").i64_eq(a.inviteStatus,b("LSCommunityInviteStatus.bs").inCommunity))return!0;else if(c)return b("bs_caml").i64_eq(a.inviteStatus,b("LSCommunityInviteStatus.bs").invited);else return!1}).sort(function(a,b){return a[0].name.localeCompare(b[0].name)})},[k]),n=j.useMemo(function(){return m.filter(function(a){a=a[0].isHidden;if(a!==void 0)return!a;else return!0})},[m]),o=k.length!==0,p=n.length!==0;if(o){var q;o=0;i&&!a?q=m.map(function(a){a=a[0];return j.jsx(b("MWCMInboxLeftRailSidebarFolderEdit.bs").make,{folder:a,entityId:e},b("bs_int64").to_string(a.fbGroupId))}):o=1;o===1&&(q=p?n.map(function(a){var f=a[0];return j.jsx(b("MWCMInboxLeftRailSidebarFolder.bs").make,{folder:f,maybeThread:a[1],currentThreadKey:c,entityType:d,entityId:e},b("bs_int64").to_string(f.fbGroupId))}):a?null:j.jsx(b("MDSRow.react"),{paddingTop:0,children:j.jsx(b("MDSRowItem.react"),{children:j.jsx(b("MWText.react"),{type:"meta2",children:g._("__JHASH__6DlW9rWUwr2__JHASH__")})})}));o=j.jsx(j.Fragment,{children:j.jsx(l,{isCollapsed:a,isEditing:i,setIsEditing:h[1],children:q})})}else o=null;return j.jsx(b("CometColumn.react"),{children:j.jsx(b("CometColumnItem.react"),{paddingHorizontal:8,children:o})})}m.displayName=m.name+" [from "+e.id+"]";d={make:m};function a(a){var c=a.threadKey,d=a.currentThreadKey,e=a.entityType;a=a.entityId;return j.jsx(b("CometPlaceholder.react"),{fallback:null,children:j.jsx(m,{threadKey:c,currentThreadKey:d,entityType:e,entityId:a})})}a.displayName=a.name+" [from "+e.id+"]";e=a;f.styles=k;f.MWCommunitiesEditor=c;f.Impl=d;f.make=e}),null);